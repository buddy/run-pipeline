name: 'Run Buddy Pipeline'
description: 'Runs Buddy CI/CD pipelines from GitHub Actions'
author: 'Buddy'

branding:
  icon: 'play'
  color: 'blue'

inputs:
  workspace:
    description: 'Buddy workspace domain'
    required: true
  project:
    description: 'Buddy project name (URL handle)'
    required: true
  identifier:
    description: 'Pipeline identifier (human-readable ID)'
    required: true
  comment:
    description: 'Run comment (e.g., commit hash, build info)'
    required: false
  wait:
    description: 'Wait for run to finish (minutes). If not provided, returns execution URL immediately.'
    required: false
  branch:
    description: 'Repository branch name'
    required: false
  tag:
    description: 'Repository tag name'
    required: false
  revision:
    description: 'Repository revision (commit SHA)'
    required: false
  pull-request:
    description: 'Repository pull request ID'
    required: false
  refresh:
    description: 'Deploy from scratch'
    required: false
  clear-cache:
    description: 'Clear cache before running the pipeline'
    required: false
  priority:
    description: 'Run priority (LOW, NORMAL, or HIGH). Default is NORMAL'
    required: false

runs:
  using: 'node24'
  main: 'dist/index.js'